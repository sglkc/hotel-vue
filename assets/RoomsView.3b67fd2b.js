import{_ as R}from"./index.9d8ddc5c.js";import{o as i,c as p,w as t,e as m,F as T,r as w,ab as C,A as a,t as u,a as e,V as f,b as _,a2 as U,i as s,H as b,I as r,X as y,ac as $,ad as q,G as V,$ as F,Q as N,v as x}from"./vendor.485835f2.js";const E={name:"RoomTable",data(){return{rooms:[{type_name:"Regular",price:16e4,id:1,name:"x30-04",room_type:1,capacity:2,created_at:"2022-03-09T22:23:35.000Z"},{type_name:"Regular",price:16e4,id:2,name:"x30-05",room_type:1,capacity:1,created_at:"2022-04-12T07:06:55.000Z"},{type_name:"Regular",price:16e4,id:3,name:"x30-06",room_type:1,capacity:1,created_at:"2022-04-12T07:07:13.000Z"},{type_name:"Exclusive",price:5e5,id:4,name:"x35-01",room_type:2,capacity:5,created_at:"2022-04-12T07:07:37.000Z"}],selected:!1}},methods:{getRooms(){},updateRoom(n){this.selected=n.id,this.emitter.emit("updateRoom",n)},deleteRoom(n){this.selected===n&&this.emitter.emit("updateRoom",!1)}},created(){this.emitter.on("getRooms",this.getRooms),this.getRooms()}},j=a("thead",null,[a("tr",null,[a("th",null,"No"),a("th",null,"ID"),a("th",null,"Room Type"),a("th",null,"Room Type ID"),a("th",null,"Name"),a("th",null,"Max Capacity"),a("th",null,"Created At"),a("th",{class:"text-center"},"Action")])],-1),B={key:0},D={class:"text-center"},I=s(" Delete "),A=s(" Update "),L={key:1},Z={class:"text-center font-weight-bold",colspan:"8"},z=s("mdi-exclamation-thick"),G=a("span",{class:"text-red"},"Room data is empty",-1),S={key:2},H={class:"text-center font-weight-bold",colspan:"8"},J=s("mdi-loading"),M=s(" Loading room data ");function O(n,d,h,g,o,c){return i(),p(U,null,{default:t(()=>[j,o.rooms.length?(i(),m("tbody",B,[(i(!0),m(T,null,w(o.rooms,(l,v)=>(i(),m("tr",{style:C(l.id===o.selected?"background: #EEE":""),key:v},[a("td",null,u(v+1),1),a("td",null,u(l.id),1),a("td",null,u(l.type_name),1),a("td",null,u(l.room_type),1),a("td",null,u(l.name),1),a("td",null,u(l.capacity),1),a("td",null,u(new Date(l.created_at).toLocaleString()),1),a("td",D,[e(f,{class:"ma-1",color:"error",size:"small",variant:"contained-text",onClick:k=>c.deleteRoom(l.id)},{default:t(()=>[I]),_:2},1032,["onClick"]),e(f,{class:"ma-1",color:"warning",size:"small",variant:"contained-text",onClick:k=>c.updateRoom(l)},{default:t(()=>[A]),_:2},1032,["onClick"])])],4))),128))])):o.rooms?(i(),m("tbody",L,[a("tr",null,[a("td",Z,[e(_,{color:"red"},{default:t(()=>[z]),_:1}),G])])])):(i(),m("tbody",S,[a("tr",null,[a("td",H,[e(_,{class:"mdi-spin"},{default:t(()=>[J]),_:1}),M])])]))]),_:1})}var P=R(E,[["render",O]]);const Q={name:"RoomForm",data(){return{name:"",roomType:"",roomTypes:[{id:1,name:"Regular",description:"Just wanted to have a leisure? This room is perfect for you and your wallet.",image:"https://cdn.pixabay.com/photo/2018/06/14/21/15/the-interior-of-the-3475656_960_720.jpg",price:16e4,total:15},{id:2,name:"Exclusive",description:"Get more comfortable with a living room and a balcony with the city view.",image:"https://cdn.pixabay.com/photo/2016/03/28/09/34/bedroom-1285156_960_720.jpg",price:5e5,total:10},{id:3,name:"Premium",description:"Feel like home, complete with a living room, a dining room, and a fully equipped kitchen.",image:"https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1170&q60",price:129e4,total:5}],capacity:1,required:n=>!!n||"Required"}},methods:{async submit(){!(await this.$refs.form.validate()).valid||this.roomType}}},X=s("mdi-bed-king"),K=a("span",{class:"ms-3"},"Room Type*",-1),W={key:0},Y={key:1,class:"mt-3"},ee=s("mdi-exclamation-thick"),te=a("span",{class:"text-red"},"Room type is empty",-1),oe={key:1,class:"mt-3"},ae=s("mdi-loading"),le=s(" Loading room types "),ne=s("mdi-plus"),ie=s(" New ");function se(n,d,h,g,o,c){return i(),p(F,{ref:"form"},{default:t(()=>[e(V,null,{default:t(()=>[e(b,{justify:"center"},{default:t(()=>[e(r,{cols:"12",sm:"5"},{default:t(()=>[e(y,{modelValue:o.name,"onUpdate:modelValue":d[0]||(d[0]=l=>o.name=l),label:"Name*","prepend-icon":"mdi-rename-box",variant:"underlined",rules:[o.required],"hide-details":""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"12",sm:"",md:"2"},{default:t(()=>[e(y,{modelValue:o.capacity,"onUpdate:modelValue":d[1]||(d[1]=l=>o.capacity=l),type:"number",label:"Capacity*",min:"1","prepend-icon":"mdi-account-multiple",variant:"underlined",rules:[o.required],"hide-details":""},null,8,["modelValue","rules"])]),_:1}),e(r,{class:"mt-3",cols:"12",sm:""},{default:t(()=>[a("div",{style:C("color: "+(o.roomType?"#00000099":"#b00020"))},[e(_,null,{default:t(()=>[X]),_:1}),K],4),o.roomTypes?(i(),p($,{key:0,modelValue:o.roomType,"onUpdate:modelValue":d[2]||(d[2]=l=>o.roomType=l),class:"mt-1","hide-details":"",mandatory:""},{default:t(()=>[o.roomTypes.length?(i(),m("span",W,[(i(!0),m(T,null,w(o.roomTypes,l=>(i(),p(q,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))])):(i(),m("div",Y,[e(_,{color:"red"},{default:t(()=>[ee]),_:1}),te]))]),_:1},8,["modelValue"])):(i(),m("div",oe,[e(_,{class:"mdi-spin"},{default:t(()=>[ae]),_:1}),le]))]),_:1}),e(r,{class:"mt-2 mb-sm-0 mb-3",align:"center"},{default:t(()=>[e(f,{color:"primary",type:"submit",variant:"outlined",onClick:c.submit},{default:t(()=>[e(_,null,{default:t(()=>[ne]),_:1}),ie]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},512)}var de=R(Q,[["render",se]]);const re={name:"RoomUpdateForm",props:{room:Object},data(){return{name:this.room.name,capacity:this.room.capacity,required:n=>!!n||"Required"}},methods:{updateRoom(n){this.name=n.name,this.capacity=n.capacity},async submit(){(await this.$refs.form.validate()).valid},cancel(){this.emitter.emit("updateRoom",!1)}},created(){this.emitter.on("updateRoom",this.updateRoom)}},me=s("mdi-update"),ce=s(" Update "),ue=s("mdi-keyboard-backspace"),_e=s(" Cancel ");function pe(n,d,h,g,o,c){return i(),p(F,{ref:"form"},{default:t(()=>[e(V,null,{default:t(()=>[e(b,null,{default:t(()=>[e(r,null,{default:t(()=>[e(N,{density:"compact",type:"warning",variant:"contained-text"},{default:t(()=>[s(" Updating room "+u(h.room.id),1)]),_:1})]),_:1})]),_:1}),e(b,{class:"mt-3",justify:"center"},{default:t(()=>[e(r,{cols:"7",md:"6"},{default:t(()=>[e(y,{modelValue:o.name,"onUpdate:modelValue":d[0]||(d[0]=l=>o.name=l),label:"Name*","prepend-icon":"mdi-rename-box",variant:"underlined",rules:[o.required],"hide-details":""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"5",md:"2"},{default:t(()=>[e(y,{modelValue:o.capacity,"onUpdate:modelValue":d[1]||(d[1]=l=>o.capacity=l),type:"number",label:"Capacity*",min:"1","prepend-icon":"mdi-account-multiple",variant:"underlined",rules:[o.required],"hide-details":""},null,8,["modelValue","rules"])]),_:1}),e(r,{cols:"8",md:"3"},{default:t(()=>[e(y,{label:"Room Type*","prepend-icon":"mdi-bed-king",variant:"underlined","model-value":h.room.type_name,disabled:"","hide-details":""},null,8,["model-value"])]),_:1}),e(r,{class:"mt-2 mb-sm-0 mb-3",align:"center"},{default:t(()=>[e(f,{class:"ma-1",color:"primary",type:"submit",variant:"outlined",onClick:c.submit},{default:t(()=>[e(_,null,{default:t(()=>[me]),_:1}),ce]),_:1},8,["onClick"]),e(f,{class:"ma-1",color:"error",variant:"outlined",onClick:c.cancel},{default:t(()=>[e(_,null,{default:t(()=>[ue]),_:1}),_e]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},512)}var he=R(re,[["render",pe]]);const ye={name:"RoomsView",components:{Table:P,Form:de,UpdateForm:he},data(){return{room:!1}},methods:{updateRoom(n){this.room=n}},created(){this.emitter.on("updateRoom",this.updateRoom)}};function fe(n,d,h,g,o,c){const l=x("Table"),v=x("Form"),k=x("UpdateForm");return i(),p(V,{class:"h-100 my-3"},{default:t(()=>[e(b,{class:"mb-6"},{default:t(()=>[e(r,{class:"elevation-1"},{default:t(()=>[e(l)]),_:1})]),_:1}),e(b,{class:"elevation-1 mt-3"},{default:t(()=>[o.room?(i(),p(r,{key:1},{default:t(()=>[e(k,{room:o.room},null,8,["room"])]),_:1})):(i(),p(r,{key:0},{default:t(()=>[e(v)]),_:1}))]),_:1})]),_:1})}var Re=R(ye,[["render",fe],["__scopeId","data-v-dbd4f9f4"]]);export{Re as default};
